{
    "children": {
        "N549bc11a": {
            "children": {
                "Ne5c4696a": {
                    "extends": "box2.vwf",
                    "properties": {
                        "DisplayName": "Barrel",
                        "___physics_activation_state": 1,
                        "___physics_deactivation_time": 0,
                        "___physics_velocity_angular": [0, 0, 0],
                        "___physics_velocity_linear": [0, 0, 0],
                        "_length": 0.2,
                        "materialDef": {
                            "alpha": 1,
                            "ambient": {
                                "b": 1,
                                "g": 1,
                                "r": 1
                            },
                            "color": {
                                "a": 1,
                                "b": 1,
                                "g": 1,
                                "r": 1
                            },
                            "emit": {
                                "b": 0,
                                "g": 0,
                                "r": 0
                            },
                            "layers": [{
                                    "alpha": 1,
                                    "blendMode": 0,
                                    "mapInput": 0,
                                    "mapTo": 1,
                                    "offsetx": 0,
                                    "offsety": 0,
                                    "rot": 0,
                                    "scalex": 1,
                                    "scaley": 1,
                                    "src": "checker.jpg"
                                }
                            ],
                            "reflect": 0.8,
                            "shadeless": false,
                            "shadow": true,
                            "shininess": 15,
                            "specularColor": {
                                "b": 0.577350269189626,
                                "g": 0.577350269189626,
                                "r": 0.577350269189626
                            },
                            "specularLevel": 1
                        },
                        "owner": "Anonymous_srrHyERdWKafkXchAAAA",
                        "transform": [1.0000001192092896, 0, -2.2273425326346796e-9, 0, 0, 1, 0, 0, 2.2273425326346796e-9, 0, 1.0000001192092896, 0, 7.352501718571602e-9, 0, 0.7500000596046448, 1],
                        "type": "Primitive",
                        "width": 0.28
                    },
                    "random": {
                        "c": 1,
                        "s0": 0.809604124864563,
                        "s1": 0.25392062519677,
                        "s2": 0.65455412468873
                    },
                    "sequence": 0,
                    "source": "vwf/model/threejs/box.js",
                    "type": "subDriver/threejs"
                },
                "N86c2105c": {
                    "extends": "SandboxCamera.vwf",
                    "methods": {
                        "tick": {
                            "body": " // The tick function is called 20 times every second.\n    // Write code here to animate over time\n    this.fov += (this.fovGoal - this.fov) / 5; ",
                            "parameters": []
                        }
                    },
                    "properties": {
                        "DisplayName": "Camera1",
                        "fov": 60,
                        "fovGoal": 60,
                        "owner": "Anonymous_srrHyERdWKafkXchAAAA",
                        "transform": [5.55111459373019e-16, 0.999999940395355, 1.98855794053543e-8, 0, 9.80333414446477e-9, -1.98855811817111e-8, 1, 0, 1.00000011920929, -2.77555782626069e-16, -9.80333503264319e-9, 0, 0.499998921540867, -0.00000171804549567574, -2.00000081798741, 1]
                    },
                    "random": {
                        "c": 1,
                        "s0": 0.881991325877607,
                        "s1": 0.977037542732432,
                        "s2": 0.315142978914082
                    },
                    "sequence": 0,
                    "source": "vwf/model/threejs/camera.js",
                    "type": "subDriver/threejs"
                }
            },
            "extends": "box2.vwf",
            "properties": {
                "DisplayName": "50CalPivot",
                "___physics_activation_state": 1,
                "___physics_deactivation_time": 0,
                "___physics_velocity_angular": [0, 0, 0],
                "___physics_velocity_linear": [0, 0, 0],
                "_length": 0.33,
                "height": 0.39,
                "materialDef": {
                    "alpha": 1,
                    "ambient": {
                        "b": 1,
                        "g": 1,
                        "r": 1
                    },
                    "color": {
                        "a": 1,
                        "b": 1,
                        "g": 1,
                        "r": 1
                    },
                    "emit": {
                        "b": 0,
                        "g": 0,
                        "r": 0
                    },
                    "layers": [{
                            "alpha": 1,
                            "blendMode": 0,
                            "mapInput": 0,
                            "mapTo": 1,
                            "offsetx": 0,
                            "offsety": 0,
                            "rot": 0,
                            "scalex": 1,
                            "scaley": 1,
                            "src": "checker.jpg"
                        }
                    ],
                    "reflect": 0.8,
                    "shadeless": false,
                    "shadow": true,
                    "shininess": 15,
                    "specularColor": {
                        "b": 0.577350269189626,
                        "g": 0.577350269189626,
                        "r": 0.577350269189626
                    },
                    "specularLevel": 1
                },
                "owner": "Anonymous_srrHyERdWKafkXchAAAA",
                "transform": [-9.80333414446477e-9, 0, 0.999999940395355, 0, 0, 1, 0, 0, -0.999999940395355, 0, -9.80333414446477e-9, 0, 0, 0, 0.75, 1],
                "type": "Primitive",
                "width": 0.33
            },
            "random": {
                "c": 1,
                "s0": 0.570447616046295,
                "s1": 0.810183898778632,
                "s2": 0.997119625797495
            },
            "sequence": 0,
            "source": "vwf/model/threejs/box.js",
            "type": "subDriver/threejs"
        }
    },
    "extends": "box2.vwf",
    "methods": {
        "_keyDown": {
            "body": "  console.log(e);\n    this.keysDown.push(e.key.char);  ",
            "parameters": ["e"]
        },
        "_keyUp": {
            "body": "  if( this.keysDown.indexOf(' ') !== -1)\n       this.keysDown.splice(this.keysDown.indexOf(' '),1)  ",
            "parameters": ["e"]
        },
        "_pointerDown": {
            "body": " console.log(e);\n    if (e.button == \"left\")\n    {\n        this.lastx = e.position[0];\n        this.lasty = e.position[1];\n        this.mouseDown = true;\n    }\n    if (e.button == \"right\")\n    {\n        this.children_by_name[\"50CalPivot\"].children_by_name[\"Camera1\"].fovGoal = 10;\n    } ",
            "parameters": ["e", "d"]
        },
        "_pointerMove": {
            "body": "  if (!this.mouseDown) return;\n    var relx = e.position[0] - this.lastx;\n    var rely = e.position[1] - this.lasty;\n\n    this.lastx = e.position[0];\n    this.lasty = e.position[1];\n    this.transformAPI.rotateZ(-relx * 160);\n    this.children_by_name[\"50CalPivot\"].transformAPI.rotateY(rely * 60);  ",
            "parameters": ["e", "d"]
        },
        "_pointerUp": {
            "body": " if (e.button == \"left\")\n    {\n        this.lastx = e.position[0];\n        this.lasty = e.position[1];\n        this.mouseDown = false;\n    }\n    if (e.button == \"right\")\n    {\n        this.children_by_name[\"50CalPivot\"].children_by_name[\"Camera1\"].fovGoal = 60;\n    } ",
            "parameters": ["e", "d"]
        },
        "fire": {
            "body": " var origin = this.children_by_name[\"50CalPivot\"].children_by_name[\"Barrel\"].transformAPI.getWorldPosition();\n    var dir = this.children_by_name[\"50CalPivot\"].children_by_name[\"Barrel\"].transformAPI.localToGlobalRotation([0, 0, 1]);\n    var shake = [this.random() / this.accuracy - 1/this.accuracy , this.random() / this.accuracy - 1/this.accuracy, this.random() / this.accuracy - 1/this.accuracy];\n    dir = Vec3.normalize(Vec3.add(shake, dir, []), []);\n    var hit = this.Scene.traceAPI.rayCast(origin, dir,\n    {\n        ignore: [findviewnode(this.id)]\n    });\n\n    if (hit)\n    {\n        this.tracerDef.properties.transform[12] = hit.point[0];\n        this.tracerDef.properties.transform[13] = hit.point[1];\n        this.tracerDef.properties.transform[14] = hit.point[2];\n        this.Scene.children.create(GUID(), this.tracerDef.internal_val);\n    }\n    else\n    {\n\n    } ",
            "parameters": []
        },
        "firing": {
            "body": "  return (this.keysDown.indexOf(' ') !== -1)  ",
            "parameters": []
        },
        "ready": {
            "body": "  this.Scene.unbind(\"pointerMove\", this._pv);\n    this.Scene.unbind(\"pointerDown\", this._pd);\n    this.Scene.unbind(\"pointerUp\", this._pu);\n    \n    this.Scene.unbind(\"keyDown\", this._kd);\n    this.Scene.unbind(\"keyUp\", this._ku);\n    var self = this;\n    this._pv = function(e, d)\n    {\n        self._pointerMove(e, d);\n    }\n    this._pd = function(e, d)\n    {\n        self._pointerDown(e, d);\n    }\n    this._pu = function(e, d)\n    {\n        self._pointerUp(e, d);\n    }\n    this._kd = function(e, d)\n    {\n        self._keyDown(e, d);\n    }\n    this._ku = function(e, d)\n    {\n        self._keyUp(e, d);\n    }\n    this.Scene.bind(\"pointerMove\", this._pv);\n    this.Scene.bind(\"pointerDown\", this._pd);\n    this.Scene.bind(\"pointerUp\", this._pu);\n    this.Scene.bind(\"keyDown\", this._kd);\n    this.Scene.bind(\"keyUp\", this._ku);  ",
            "parameters": []
        },
        "tick": {
            "body": " if (this.firing())\n    {\n        var shake = [this.random() / 10 - .05, this.random() / 10 - .05, this.random() / 10 - .05]\n        this.children_by_name[\"50CalPivot\"].children_by_name[\"Camera1\"].transformAPI.move(shake);\n        shake = [this.random() / 10 - .05, this.random() / 10 - .05, this.random() / 10 - .05]\n        this.children_by_name[\"50CalPivot\"].transformAPI.move(shake);\n        this.firecounter++;\n        if (this.firecounter == 2)\n        {\n            this.firecounter = 0;\n            this.fire();\n        }\n    }\n\n    var pos = this.children_by_name[\"50CalPivot\"].children_by_name[\"Camera1\"].transformAPI.getPosition();\n    var goal = [.5, 0, -2];\n    var move = Vec3.subtract(goal, pos, []);\n\n    this.children_by_name[\"50CalPivot\"].children_by_name[\"Camera1\"].transformAPI.move(move[0] / 2, move[1] / 2, move[2] / 2);\n\n    var pos = this.children_by_name[\"50CalPivot\"].transformAPI.getPosition();\n    var goal = [.0, 0, .75];\n    var move = Vec3.subtract(goal, pos, []);\n\n    this.children_by_name[\"50CalPivot\"].transformAPI.move(move[0] / 2, move[1] / 2, move[2] / 2); ",
            "parameters": []
        }
    },
    "properties": {
        "DisplayName": "50CalBase",
        "EditorData": {
            "accuracy": {
                "displayname": "accuracy",
                "max": 50,
                "min": 2,
                "property": "accuracy",
                "step": 1,
                "type": "slider"
            }
        },
        "EditorDate": "",
        "___physics_activation_state": 1,
        "___physics_deactivation_time": 0,
        "___physics_velocity_angular": [0, 0, 0],
        "___physics_velocity_linear": [0, 0, 0],
        "_length": 0.33,
        "accuracy": 17,
        "firecounter": 0,
        "keysDown": [],
        "lastx": 0,
        "lasty": 0,
        "materialDef": {
            "alpha": 1,
            "ambient": {
                "b": 1,
                "g": 1,
                "r": 1
            },
            "color": {
                "a": 1,
                "b": 1,
                "g": 1,
                "r": 1
            },
            "emit": {
                "b": 0,
                "g": 0,
                "r": 0
            },
            "layers": [{
                    "alpha": 1,
                    "blendMode": 0,
                    "mapInput": 0,
                    "mapTo": 1,
                    "offsetx": 0,
                    "offsety": 0,
                    "rot": 0,
                    "scalex": 1,
                    "scaley": 1,
                    "src": "checker.jpg"
                }
            ],
            "reflect": 0.8,
            "shadeless": false,
            "shadow": true,
            "shininess": 15,
            "specularColor": {
                "b": 0.577350269189626,
                "g": 0.577350269189626,
                "r": 0.577350269189626
            },
            "specularLevel": 1
        },
        "mouseDown": false,
        "owner": "Anonymous_srrHyERdWKafkXchAAAA",
        "tracerDef": {
            "extends": "sphere2.vwf",
            "methods": {
                "tick": {
                    "body": " // The tick function is called 20 times every second.\n    // Write code here to animate over time\n    this.life++;\n    if(this.life > 20)\n         vwf.deleteNode(this.id); ",
                    "parameters": []
                }
            },
            "properties": {
                "DisplayName": "sphere1",
                "___physics_activation_state": 1,
                "___physics_deactivation_time": 0,
                "___physics_velocity_angular": [0, 0, 0],
                "___physics_velocity_linear": [0, 0, 0],
                "isSelectable": false,
                "life": 0,
                "materialDef": {
                    "alpha": 1,
                    "ambient": {
                        "b": 1,
                        "g": 1,
                        "r": 1
                    },
                    "color": {
                        "a": 1,
                        "b": 1,
                        "g": 1,
                        "r": 1
                    },
                    "emit": {
                        "b": 0,
                        "g": 0,
                        "r": 0
                    },
                    "layers": [{
                            "alpha": 1,
                            "blendMode": 0,
                            "mapInput": 0,
                            "mapTo": 1,
                            "offsetx": 0,
                            "offsety": 0,
                            "rot": 0,
                            "scalex": 1,
                            "scaley": 1,
                            "src": "checker.jpg"
                        }
                    ],
                    "reflect": 0.8,
                    "shadeless": false,
                    "shadow": true,
                    "shininess": 15,
                    "specularColor": {
                        "b": 0.577350269189626,
                        "g": 0.577350269189626,
                        "r": 0.577350269189626
                    },
                    "specularLevel": 1
                },
                "owner": "Anonymous_wpez3LO-WphZ6WWjAAAA",
                "radius": 0.2,
                "transform": [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, -13.75, -0.25, 0, 1],
                "type": "Primitive",
                "visible": true
            },
            "random": {
                "c": 1,
                "s0": 0.206418882822618,
                "s1": 0.937666497891769,
                "s2": 0.393718022387475
            },
            "sequence": 0,
            "source": "vwf/model/threejs/sphere.js",
            "type": "subDriver/threejs"
        },
        "transform": [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0.5, 1],
        "type": "Primitive",
        "width": 0.33
    },
    "random": {
        "c": 429747,
        "s0": 0.0873395376838744,
        "s1": 0.0134999214205891,
        "s2": 0.597993186209351
    },
    "sequence": 0,
    "source": "vwf/model/threejs/box.js",
    "type": "subDriver/threejs"
}